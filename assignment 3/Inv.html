<!DOCTYPE html>
<html lang="en">
    
<!--==================================================================
//
// Web site:   I.T Support
// Web page:   Inventory Manager Page v3
// Title:      I.T Support's Website
// Course:     CSC 5750
// Homework:   3
// Author:     Danny Haki
// Date:       2/25/18
// Description: This Page contains all the inventory we hold at the moment.
//=================================================================-->
    <!-- HEADER -->
    <head>
        <link rel="stylesheet" type="text/css" href="stylesheet.css">
        <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
        <title>Inventory Manager v3</title>
    </head>
    <!-- BODY -->
    <body onload="runArray(); packup()">
        <div id="blackBox">
            <ul id="nav">
                <li><a href="Home.html"><h2 style="font-size: 10px; font-family: Orbitron">Home</h2></a></li>
                <li><a href="Services.html"><h2 style="font-size: 10px; font-family: Orbitron">Services</h2></a></li>
                <li><a href="Rewards.html"><h2 style="font-size: 10px; font-family: Orbitron">Rewards</h2></a></li>
                <li><a href="Login.html"><h2 style="font-size: 10px; font-family: Orbitron">Login</h2></a></li>
            </ul>
        </div>
        <h1 style="text-align: center">Inventory Manager</h1>
        <hr>
        <form id="form1" style="font-family: Orbitron; color: #bcbcbc; margin-left: 10%">
            <label>Product:  &nbsp;&nbsp;&nbsp;</label>
            <br>
            <!-- COMBO BOX -->
            <select id="Product" name="selectProduct">
                <option value="Empty" selected>---------</option>
                <option value="PC_Repair" id="PCR">Hardware Repair</option>
                <option value="Soft_Repair" id="SR">Software Cleanup</option>
                <option value="Home_Support" id="HS">Home Support</option>
            </select>
            <br><br>
            <button type="button" onclick="choice()">Show Info</button>
            <br><br>
            <label>Count:</label>
            <br>
            <textarea id="demo" style="align-items:center" onchange="setTwoNumberDecimal"></textarea> <br><br>
            <label>Cost ($):</label>
            <br>
            <textarea id="demo1" style="align-items:center"></textarea> <br><br>
            <label>Value ($):</label>
            <br>
            <textarea id="demo2" style="align-items:center"></textarea> <br><br>
        </form>
        <!--<button onclick="packup()">click me</button>-->
        
        <br>
        <!-- RADIO BUTTONS -->
        <fieldset style="width:400px">
            <legend>Inventory Transaction </legend>
            <form id="OrderUP">
                    <input type="radio" name="Order" id="add">Ordered <br>
                    <input type="radio" name="Order" id="subtract">Sold<br>
                    <br><br>
                    <label>Count:</label><br>
                    <input style="width: 50px" id="count" type="number" min="0">
            </form>
        </fieldset>
        <br><br>
        <button type="submit" style="margin-left: 10%"onclick="Order_Update();choice()">Update</button> &nbsp;&nbsp;&nbsp;
        <button type="submit" onclick="reset()">Reset</button>
        <br><br>

        <form id="result">
            <!-- NEW COUNT -->
            <label style="font-family: Orbitron; color: #bcbcbc; margin-left: 10%">New Count: </label>
            <br>
            <textarea style="margin-left: 10%" id="newAmount"></textarea>
            <br><br>
            <!-- NEW VALUE -->
            <label style="font-family: Orbitron; color: #bcbcbc; margin-left: 10%">New Value: </label>
            <br>
            <textarea style="margin-left: 10%" id="newValue"></textarea>
        </form>
        <button><a href="InvSum.html" onclick="packup()" style="margin-left: 10%">To SUM PAGE</a></button>

        <script type="text/javascript">
            var selected = document.getElementById("Product");
            var Radio = document.getElementById("OrderUP");
            //MAKE THE ARRAY
            function runArray(){    
                return [
                    [10, 25,250],
                    [5, 40, 200],
                    [7, 50, 350]
                ]  
            }
            var arr = runArray();
            function Order_Update(){   
                //ADD OR REMOVE FROM COUNT
                var x = parseFloat(document.getElementById("count").value);
                if(document.getElementById("add").checked){
                    if(selected.value == "PC_Repair"){
                        arr[0][0] = arr[0][0] + +x;
                        arr[0][2] = arr[0][0] * arr[0][1];
                        document.getElementById("newAmount").innerHTML =  arr[0][0];
                        document.getElementById("newValue").innerHTML =  arr[0][2];
                    }
                    else if(selected.value == "Soft_Repair"){
                        arr[1][0] = arr[1][0] + +x;
                        arr[1][2] = arr[1][0] * arr[1][1];
                        document.getElementById("newAmount").innerHTML =  arr[1][0];
                        document.getElementById("newValue").innerHTML =  arr[1][2];
                    }
                    else if(selected.value == "Home_Support"){
                        arr[2][0] = arr[2][0] + +x;
                        arr[2][2] = arr[2][0] * arr[2][1];
                        document.getElementById("newAmount").innerHTML =  arr[2][0];
                        document.getElementById("newValue").innerHTML =  arr[2][2];
                    }
                }
                else if(document.getElementById("subtract").checked){
                    if(selected.value == "PC_Repair"){
                        arr[0][0] = arr[0][0] - +x;
                        arr[0][2] = arr[0][0] * arr[0][1];
                        document.getElementById("newAmount").innerHTML =  arr[0][0];
                        document.getElementById("newValue").innerHTML =  arr[0][2];
                    }
                    else if(selected.value == "Soft_Repair"){
                        arr[1][0] = arr[1][0] - +x;
                        arr[1][2] = arr[1][0] * arr[1][1];
                        document.getElementById("newAmount").innerHTML =  arr[1][0];
                        document.getElementById("newValue").innerHTML =  arr[1][2];
                    }
                    else if(selected.value == "Home_Support"){
                        arr[2][0] = arr[2][0] - +x;
                        arr[2][2] = arr[2][0] * arr[2][1];
                        document.getElementById("newAmount").innerHTML =  arr[2][0];
                        document.getElementById("newValue").innerHTML =  arr[2][2];
                    }
                }
                else{
                    alert("You have not selected a product to edit!");
                }   
            }
            //POPULATE THE COMBOBOX
            function choice(){ 
                if(selected.value == "PC_Repair"){       
                    arr[0][2] = arr[0][0] * arr[0][1];
                    document.getElementById("demo").value = arr[0][0];
                    document.getElementById("demo1").value = arr[0][1];
                    document.getElementById("demo2").value = arr[0][2];
                    
                }
                else if(selected.value == "Soft_Repair"){       
                    arr[1][2] = arr[1][0] * arr[1][1];
                    document.getElementById("demo").value = arr[1][0];
                    document.getElementById("demo1").value = arr[1][1];
                    document.getElementById("demo2").value = arr[1][2];
                }
                else if(selected.value == "Home_Support"){
                    arr[2][2] = arr[2][0] * arr[2][1];  
                    document.getElementById("demo").value = arr[2][0];
                    document.getElementById("demo1").value = arr[2][1];
                    document.getElementById("demo2").value = arr[2][2];
                }
            }
            function reset(){
                document.getElementById("form1").reset();
                document.getElementById("OrderUP").reset();
                document.getElementById("result").reset(); 
            }
            //PACKING ARRAYS AND OUTPUTS
            
            function packup(){
                if(localStorage.getItem("object")==null)
                    {
                        window.alert("your local storage array was empty, were putting something in now.")
                    }
                var obj = JSON.stringify(arr)
                localStorage.setItem("object", obj);
            }
        </script>
    </body>
</html>